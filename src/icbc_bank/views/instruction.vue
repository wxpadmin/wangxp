<template>
    <div>
        <div class="share">
            <div class="title">
                <p>60万G免费流量等你来拿</p>
            </div>
            <div class="share-box">
                <header class="banner"></header>
                <div class="share-poetry">
                    <i class="icon-top"></i>
                    <div class="poetry">
                        <p>我们小的时候</p>
                        <p>没有手机，没有网络</p>
                        <p>却依然玩的很开心</p>
                        <p class="mt46">上大学的时候</p>
                        <p>你希望一打开手机就看到ta的未读消息</p>
                        <p>那种怦然心动的感觉到现在都记忆犹新</p>
                        <p class="mt46">而现在</p>
                        <p>最怕空气突然安静</p>
                        <p>最怕一解锁手机就看到未读消息——</p>
                        <p>（你本月套餐流量已用尽）</p>
                        <p>不怕你传来突然的关心</p>
                        <p>就怕你对我的关心</p>
                        <p>让我太！扎！心！</p>
                        <p>每逢月初“被吸金”，扎心！</p>
                        <p>每逢月底流量不够，依然扎心！</p>
                        <p class="mt46">我想说，不管多少岁的你</p>
                        <p>都要相信生活总会有小惊喜</p>
                        <p>60万G免费流量</p>
                        <p>你心动了吗</p>
                        <p>工商银行消费送流量活动热度爆棚！</p>
                        <p>继首批10万G流量派送之后，</p>
                        <p>第二批20万G流量已集结完毕！</p>
                    </div>
                    <i class="icon-bottom"></i>
                </div>
                <div class="active-detail">
                    <div class="active-time">
                        <div class="active-time-title"></div>
                        <p class="time">即日起至12月31日。</p>
                    </div>
                    <div class="active-object">
                        <div class="active-object-title"></div>
                        <div class="active-object-content">
                            <p>2017年1月1日后申办我行指定信用卡产品的新客户。具体包括：宇宙星座信用卡、World奋斗信用卡、工银梦幻西游信用卡、World爱奇艺信用卡、World喜马拉雅信用卡、工银军魂信用卡等。</p>
                            <p>可领取流量的工银信用卡队伍可在不断扩大呦，有卡的新客户们赶紧刷卡赚流量吧，先到先得，手快有手慢无啊。</p>
                        </div>
                    </div>
                    <div class="active-con">
                        <div class="active-con-title"></div>
                        <div class="active-con-content">
                            <h3>
                                <img :src="titBg" alt="">
                                <p>1.消费送流量。</p>
                            </h3>
                            <p class="line">持卡人使用工银银联信用卡，</p>
                            <p class="line">每月线下消费额超过1000元（含），将有机会获赠188M爱享流量；</p>
                            <p class="line">每月线下消费超过3000元（含），将有机会获赠388M爱享流量；</p>
                            <p class="line">每月线下消费超过5000元（含），将有机会获赠588M爱享流量。</p>
                            <h3>
                                <img :src="titBg" alt="">
                                <p>2.开通银联品牌手机信用卡送流量。</p>
                            </h3>
                            <p class="con-line"> 持卡人使用年轻卡开通手机信用卡（含工银Apple Pay、工银Samsung Pay、工银Huawei Pay、工银Mi Pay、工银HCE云支付）并有一笔100元以上消费，将有机会获赠100M流量。</p>
                        </div>
                    </div>
                    <div class="active-get">
                        <div class="active-get-title"></div>
                        <div class="active-get-content">
                            <h3>
                                <img :src="titBg" alt="">
                                <p>1.工商银行将通过手机短信方式按月向符合条件持卡人发放兑换码。</p>
                            </h3>
                            <h3>
                                <img :src="titBg" alt="">
                                <p>2.持卡人下载工银“e生活”app，在首页点击爱享流量即可进入爱享流量平台。</p>
                            </h3>
                            <img :src="sharePic1" alt="">
                            <h3>
                                <img :src="titBg" alt="">
                                <p>3.在流量兑换码处地方输入流量兑换码，充入流量账户。</p>
                            </h3>
                            <img :src="sharePic2" alt="">
                            <h3>
                                <img :src="titBg" alt="">
                                <p> 4.兑换后的爱享流量出现在流量余额内，可按照充值规则直接充入手机号、<span>分享红包、兑换视频、商超、餐饮、游戏、音乐等礼券</span>。</p>
                            </h3>
                            <h3>
                                <img :src="titBg" alt="">
                                <p> 5.活动详情请关注全新上线的"工银信用卡"微信服务号，发送"爱享流量"查看，更可享受各种便捷查询服务。</p>
                            </h3>
                        </div>
                    </div>
                    <div class="active-rule">
                        <div class="active-rule-title"></div>
                        <div class="active-rule-content">
                            <h3>
                                <img :src="titBg" alt="">
                                <p>1.本次活动总计发放60万G爱享流量，先到先得。</p>
                            </h3>
                            <h3>
                                <img :src="titBg" alt="">
                                <p>2.卡号前6位为625247、625249、625250的工银信用卡产品，均可参与本次活动，还没有工行信用卡？<span>快快扫描二维码！</span></p>
                            </h3>
                            <img :src="code" alt="" class="code">
                            <div class="rule">
                                <p>加入爱享流量，还可享受：</p>
                                <p>流量直充畅享九五折优惠</p>
                                <p>积分兑换流量哦！</p>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <section class="footer">
                <a class="go-bank" href="javascript:;" @click="goBank()">进入爱享流量银行</a>
                <div class="no-toast-box clearfix" >
                    <input type="checkbox" id="checkbox" v-model="islogin">
                    <span class="no-toast">不再提示</span>
                </div>
            </section>
        </div>
    </div>
</template>
<script>
    import heading from '../components/heading.vue'
    export default {
        mounted(){
            this.isgoBank()
        },
        data() {
            return {
               islogin:false,
               timeout:'',
               titBg:require('../assets/images/share/tit-bg.png'),
               sharePic1:require('../assets/images/share/share-pic-1.png'),
               sharePic2:require('../assets/images/share/share-pic-2.png'),
               code:require('../assets/images/share/code.png'),
            }
        },
        components: {
            heading
        },
        destroyed:function(){
            //alert('destroyed')
            if(this.timeout){
                clearTimeout(this.timeout)
            }
        },
        methods: {
            isgoBank(){
                let self = this
                if(this.getCookie('islogin')){
                    self.$router.push({
                        path:'index'
                    })
                }else{
                    self.timeout = setTimeout(function () {
                        self.$router.push({
                            path:'index'
                        })
                    },20000)
                }
            },
            getCookie(name){
                var arr = document.cookie.match(new RegExp("(^| )"+name+"=([^;]*)(;|$)"));
                if(arr != null) return unescape(arr[2]); return '';
            },
            setCookie(name, value, option){
                var str = name + '=' + escape(value);
                if (option) {
                    if (option.expireHours) {
                        var d = new Date();
                        d.setTime(d.getTime() + option.expireHours * 3600 * 1000);
                        str += '; expires=' + d.toGMTString();
                    }
                    if (option.path) str += '; path=' + option.path;
                    else str += '; path=/';
                    if (option.domain) str += '; domain=' + option.domain;
                    if (option.secure) str += '; true';
                }
                document.cookie = str;
            },
            goBank(){
                this.$router.push({
                    path:'index'
                })
            },
        },
        watch:{
            islogin:function (nowVal,oldVal) {
                if(this.islogin){
                    this.setCookie('islogin',1,{path:'/',expireHours:24*30})
                }else{
                    this.setCookie('islogin',0,{path:'/',expireHours:24*30})
                }
            }
        },
        components:{
            heading
        }

    }
</script>
<style lang="scss" scoped>
    @import "../assets/css/common";
    .share{
        width: 100%;
        height: 100%;
        position: relative;
        left:0;
        top:0;
        background-color: #fff;
        font-family: 'PingFang';
        .title {
            width: 100%;
            height: 0.84rem;
            text-align: center;
            line-height: 0.84rem;
            position: relative;
            font-size: 0.36rem;
            border-bottom: 1px solid $color-border;
        }
        .share-box{
            width: 100%;
            height: 72.74rem;
            background: url(../assets/images/share/share-bg.jpg) no-repeat;
            background-size: 100% 100%;
            position: relative;
            left:0;
            top:0;
            .banner{
                width: 100%;
                height: 2.74rem;
                background: url(../assets/images/share/banner.jpg) no-repeat;
                background-size: 100% 100%;
            }
            .share-poetry{
                width: 100%;
                margin-top: 0.44rem;
                position: relative;
                left: 0;
                top:0;

                .icon-top{
                    width: 0.32rem;
                    height: 0.26rem;
                    background: url(../assets/images/share/icon-top.png) no-repeat;
                    background-size: 100% 100%;
                    margin:0 auto;
                    display: block;
                }
                .poetry{
                    text-align: center;
                    margin-top: 0.16rem;
                    font-size: 0.24rem;
                    color:#4e1313;
                    font-family: 'PingFang';
                    p{
                        line-height: 0.48rem;
                    }
                    .mt46{
                        margin-top: 0.46rem;
                    }
                    .icbc-flow{
                        font-size: 0.36rem;
                        margin-top: 0.36rem;
                    }
                }
                .icon-bottom{
                    width: 0.3rem;
                    height: 0.26rem;
                    background: url(../assets/images/share/icon-bottom.png) no-repeat;
                    background-size: 100% 100%;
                    margin:0.3rem auto 0;
                    display: block;
                }
            }
            .active-detail{
                width:100%;
                .active-time{
                    .active-time-title{
                        width:3.45rem;
                        height: 0.61rem;
                        margin: 0.46rem auto 0;
                        background: url(../assets/images/share/active-1.png) no-repeat;
                        background-size: 100% 100%;
                    }
                    .time{
                        text-align: center;
                        color: #e42f46;
                        font-size: 0.24rem;
                        margin-top: 0.16rem;
                    }
                }
                .active-object{
                    .active-object-title{
                        width:3.45rem;
                        height: 0.61rem;
                        margin: 0.7rem auto 0;
                        background: url(../assets/images/share/active-2.png) no-repeat;
                        background-size: 100% 100%;
                    }
                    .active-object-content{
                        width: 5.65rem;
                        margin: 0.6rem auto 0;
                        font-size: 0.24rem;
                        color:#4e1313;
                        font-family: 'PingFang';
                        line-height: 0.48rem;
                        p{
                            text-indent: 2em;
                        }
                        p:nth-child(2){
                            margin-top:0.2rem;
                        }
                    }

                }
                .active-con{
                    .active-con-title{
                        width:3.45rem;
                        height: 0.61rem;
                        margin: 0.7rem auto 0;
                        background: url(../assets/images/share/active-3.png) no-repeat;
                        background-size: 100% 100%;
                    }
                    .active-con-content{
                        width: 5.65rem;
                        margin: 0.6rem auto 0;
                        h3{
                            position: relative;
                            left: 0;
                            top:0;
                            img{
                                width: 1.93rem;
                                height: 0.26rem;
                                display: block;
                                position: absolute;
                                top:0;
                                left: 0;
                            }
                            p{
                                font-size:  0.32rem;
                            }
                        }
                        .line{
                            font-size: 0.24rem;
                            line-height: 0.64rem;
                        }
                        .con-line{
                            text-indent: 2em;
                            font-size: 0.24rem;
                            line-height: 0.48rem;
                            margin-top: 0.28rem;
                        }
                    }
                }
                .active-get{
                    .active-get-title{
                        width:3.45rem;
                        height: 0.61rem;
                        margin: 0.7rem auto 0;
                        background: url(../assets/images/share/active-4.png) no-repeat;
                        background-size: 100% 100%;
                    }
                    .active-get-content{
                        width: 5.8rem;
                        margin: 0.3rem auto 0;
                        h3{
                            margin-top:0.36rem;
                            position: relative;
                            left: 0;
                            top:0;
                            img{
                                width: 1.93rem;
                                height: 0.26rem;
                                display: block;
                                position: absolute;
                                top:0;
                                left: 0;
                            }
                            p{
                                font-size:  0.32rem;
                            }
                            span{
                                color: #ac1c1c;
                                font-size: 0.38rem;
                                font-weight: bold;
                            }
                        }
                        img{
                            width: 3.97rem;
                            height: 7rem;
                            display: block;
                            margin: 0 auto;
                            margin-top: 0.3rem;
                        }
                    }

                }
                .active-rule{
                    .active-rule-title{
                        width:3.45rem;
                        height: 0.61rem;
                        margin: 0.7rem auto 0;
                        background: url(../assets/images/share/active-5.png) no-repeat;
                        background-size: 100% 100%;
                    }
                    .active-rule-content{
                        width: 5.8rem;
                        margin: 0.6rem auto 0;
                        h3{
                            margin-top: 0.2rem;
                            position: relative;
                            left: 0;
                            top:0;
                            img{
                                width: 1.93rem;
                                height: 0.26rem;
                                display: block;
                                position: absolute;
                                top:0;
                                left: 0;
                            }
                            p{
                                font-size:  0.32rem;
                                line-height: 0.48rem;
                            }
                            span{
                                color: #ac1c1c;
                                font-size: 0.38rem;
                                font-weight: bold;
                            }
                        }
                        .code{
                            display: block;
                            margin: 1rem auto 0;
                            width: 3.96rem;
                            height: 3.92rem;
                        }
                        .rule{
                            text-align: center;
                            font-size: 0.24rem;
                            color: #4e1313;
                            margin-top: 0.8rem;
                            p{
                                line-height: .48rem;
                            }
                        }


                    }

                }
                .down-font{
                    margin-top: 0.8rem;
                    width: 100%;
                    text-align: center;
                    font-size: 0.18rem;
                    color: #4e1313;
                }
                .down-app{
                    width: 4.28rem;
                    height: 0.9rem;
                    background: url(../assets/images/share/button.png) no-repeat;
                    background-size: 100% 100%;
                    line-height: 0.9rem;
                    font-size: 0.46rem;
                    color: #fff;
                    display: block;
                    margin: 0.42rem auto 0;
                    text-align: center;
                }
            }
        }
        .footer{
            width: 100%;
            height: 2.1rem;
            background-color: rgba(0,0,0,0.7);
            position: fixed;
            bottom: 0;
            left:0;
            z-index: 99;
            .go-bank{
                width: 4.4rem;
                height: 0.9rem;
                line-height: 0.9rem;
                color: #ffffff;
                background-color: #e42f46;
                border-radius: 0.45rem;
                margin: 0.35rem auto 0;
                font-size: 0.36rem;
                display: block;
                text-align: center;
            }
            .no-toast-box{
                color: #ffffff;
                font-size: 0.3rem;
                margin-top: 0.24rem;
                input{
                    margin-left: 2.9rem;
                    -webkit-appearance: checkbox;
                    box-sizing: border-box;
                    display: block;
                    float: left;
                }
                span{
                    display: block;
                    float: left;
                    margin-top: -0.05rem;
                    margin-left: 0.2rem;
                }
            }

        }

    }
</style>
